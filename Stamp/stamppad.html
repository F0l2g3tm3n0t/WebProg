<!DOCTYPE html>
<head>
	<link rel="stylesheet" type="text/css" href="stamppad.css" />
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
	<script src="stamppad.js"></script>
</head>
<!--
<script type="text/javascript">
	
	function select(obj){
		 $("img.current").toggleClass("stamper stamper current");
		 $(obj).toggleClass("stamper current stamper");
	}
</script>
-->
<script type="text/javascript">
		$(document).ready(function(){
		    $(".stamper").click(function(){
		        $(".current").toggleClass("stamper current stamper");
		        $(this).toggleClass("stamper current stamper");
		    });

		    $("#stamppad-canvas").click(function(e){
		    	var parentOffset = $(this).parent().offset();
		    	var x = e.pageX - parentOffset.left;
		    	var y = e.pageY - parentOffset.top;
  				var newNode = document.createElement("img");
				newNode.setAttribute("class","stamp-mark");

				var stampImage = $(".current").attr("stamper");
				if(stampImage != null){
					var  stamperImage = $('.mark-proto[stamper="'+stampImage+'"]').attr("src");
					newNode.setAttribute("src", stamperImage);		
					newNode.setAttribute("disable","true");
					var width = newNode.width;
					var height = newNode.height;
					var elementStyle = newNode.style;

					x = x - width;
					y = y - height;
					elementStyle.left = x + "px";
					elementStyle.top = y + "px";
	  				$("#stamppad-canvas").append(newNode);
  				}
		    });
		});
	</script>
<body>
	<div id="stamppad-wrapper">
		<img id="logo" src="pict/stamppadlogo.gif"/>
		<div id="stamper-panel">
			<img src="pict/stamp_star.png" class="stamper" stamper="star"  onclick="select(this);" />
			<img src="pict/stamp_heart.png" class="stamper" stamper="heart" onclick="select(this);" />
			<img src="pict/stamp_mickey.png" class="stamper" stamper="mickey"onclick="select(this);" />
			<img src="pict/stamp_paw.png" class="stamper" stamper="paw" onclick="select(this);" />
			<img src="pict/stamp_crown.png" class="stamper" stamper="crown" onclick="select(this);" />
		</div>
		<div id="canvas-background" style="margin: 0px">
			<div id="stamppad-canvas">
			
			</div>
		</div>
		<div id="hidden-stamp-marks">
			<img src="pict/stamp_mark_star.png" class="mark-proto" stamper="star"/>
			<img src="pict/stamp_mark_heart.png" class="mark-proto" stamper="heart"/>
			<img src="pict/stamp_mark_mickey.png" class="mark-proto" stamper="mickey"/>
			<img src="pict/stamp_mark_paw.png" class="mark-proto" stamper="paw"/>
			<img src="pict/stamp_mark_crown.png" class="mark-proto" stamper="crown"/>
		</div>
	</div>
</body>

